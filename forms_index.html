<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h1>howdy</h1>

    <form id="myForm">
      <input id="title" name="title" value="foo">
      <input id="body" name="body" value="bar">
      <input id="userId" name="userId" value="1">
      <input type="submit" value="Send Me!">
    </form>


    <script type="text/javascript">

      // window.addEventListener( "load", function () {
      //   function sendData() {
      //     const XHR = new XMLHttpRequest();
      //
      //     // Bind the FormData object and the form element
      //     const FD = new FormData( form );
      //
      //     // Define what happens on successful data submission
      //     XHR.addEventListener( "load", function(event) {
      //       console.log( event.target.responseText );
      //     } );
      //
      //     // Define what happens in case of error
      //     XHR.addEventListener( "error", function( event ) {
      //       alert( 'Oops! Something went wrong.' );
      //     } );
      //
      //     // Set up our request
      //     XHR.open( "POST", "https://jsonplaceholder.typicode.com/posts" );
      //
      //     // The data sent is what the user provided in the form
      //     XHR.send( FD );
      //   }
      //
      //   // Access the form element...
      //   const form = document.getElementById( "myForm" );
      //
      //   // ...and take over its submit event.
      //   form.addEventListener( "submit", function ( event ) {
      //     event.preventDefault();
      //
      //     sendData();
      //   } );
      // } );



      //Vanilla JS Example, no form
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "https://jsonplaceholder.typicode.com/posts", true);
      xhr.setRequestHeader('Content-Type', 'application/json');

      // Define what happens on successful data submission
      xhr.addEventListener( "load", function(event) {
        console.log( event.target.responseText );
      } );
      // Define what happens in case of error
      xhr.addEventListener( "error", function( event ) {
        alert( 'Oops! Something went wrong.' );
      } );

      xhr.send(JSON.stringify({
            title: 'foo',
            body: 'bar',
            userId: 1,
      }));



      //// Fetch Example
      // fetch('https://jsonplaceholder.typicode.com/posts', {
      //   method: 'POST',
      //   body: JSON.stringify({
      //     title: 'foo',
      //     body: 'bar',
      //     userId: 1,
      //   }),
      //   headers: {
      //     'Content-type': 'application/json; charset=UTF-8',
      //   },
      // })
      //   .then((response) => response.json())
      //   .then((json) => console.log(json));

    </script>
  </body>
</html>
